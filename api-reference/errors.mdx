---
title: 'Errors'
description: 'Understand error codes and debug failed requests'
---

The API uses HTTP response codes to indicate the success or failure of a request. Codes
in the `200-299` range indicate success, codes in the `400-499` range indicate a client
error (e.g failed validation) and should be fixed and retried in your end, and codes in
the `500-599` range indicate a server error on our end. Some endpoints are
[idempotent](/api-reference/idempotency) and so are safe to retry.

## Error response

<ResponseField name="code" type="string" required>
  A machine-readable error code that can be used to programmatically handle the error.
</ResponseField>
<ResponseField name="detail" type="string" required>
  A human-readable string describing the error.
</ResponseField>
<ResponseField name="params" type="array">
  An array of objects describing the parameters that caused the error. This is mostly
  present for validation errors (HTTP 400).
  <Expandable title="properties">
    <ResponseField name="path" type="string" required>
      The path to the parameter that caused the error.
    </ResponseField>
    <ResponseField name="detail" type="string" required>
      A human-readable string describing the error.
    </ResponseField>
    <ResponseField name="code" type="string" required>
      A machine-readable error code that can be used to programmatically handle the error.
    </ResponseField>
  </Expandable>
</ResponseField>
<ResponseField name="context" type="object">
  A context object that provides additional information about the error. This is mostly
  present for errors that are related to the request (e.g. insufficient funds) and not
  a specific parameter.
</ResponseField>

<ResponseExample>

```json 401
{
    "code": "invalid_token",
    "detail": "The access token is invalid or has expired."
}
```

```json 400 (with params)
{
    "code": "invalid_request",
    "detail": "The request is invalid.",
    "params": [
        {
            "path": "body.account_id",
            "detail": "Account not found",
            "code": "not_found"
        }
    ]
}
```

```json 400 (with context)
{
    "code": "insufficient_funds",
    "detail": "The account has insufficient funds to cover the requested operation.",
    "context": {
        "available": "1000"
    }
}
```


```json 500
{
    "code": "server_error",
    "detail": "The service encountered an unexpected error."
}
```
</ResponseExample>

## Debugging errors

In addition to error codes returned from API responses, you can inspect the response
headers for a unique request ID (`Request-Id`). This ID is assigned as soon as the
request is received and is used to identify the request in our logs.

We recommend logging request IDs in your production deployments for more efficient
troubleshooting with our [support team](hello@usesophic.com), should the need arise.

### Client request IDs

In addition to our request IDs, you can also supply your own request IDs via the
`Client-Request-Id` header. This header is not added automatically; you must explicitly
set it on the request.

The format is up to you; we recommend using a UUID or your internal trace ID up to a
maximum of 255 characters. We will reject any request with a `Client-Request-Id` header
that is longer than 255 characters.

If you supply a client request ID, we will log this value in our internal logs so make
sure it is not leaking any sensitive information. In cases of timeouts or network issues
when you can't get the `Request-Id` response header, you can share the `Client-Request-Id`
value with our support team, and we can look up whether we received the request and when.
